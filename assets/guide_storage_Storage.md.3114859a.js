import{_ as s,c as a,o as n,a as l}from"./app.88d7fbcb.js";const E=JSON.parse('{"title":"\u{1F955} Storage\u64CD\u4F5C","description":"","frontmatter":{},"headers":[{"level":2,"title":"set","slug":"set","link":"#set","children":[]},{"level":2,"title":"get","slug":"get","link":"#get","children":[]},{"level":2,"title":"remove","slug":"remove","link":"#remove","children":[]},{"level":2,"title":"clear","slug":"clear","link":"#clear","children":[]},{"level":2,"title":"watch","slug":"watch","link":"#watch","children":[]}],"relativePath":"guide/storage/Storage.md","lastUpdated":1669479768000}'),p={name:"guide/storage/Storage.md"},o=l(`<h1 id="\u{1F955}-storage\u64CD\u4F5C" tabindex="-1">\u{1F955} Storage\u64CD\u4F5C <a class="header-anchor" href="#\u{1F955}-storage\u64CD\u4F5C" aria-hidden="true">#</a></h1><h1 id="local" tabindex="-1">local <a class="header-anchor" href="#local" aria-hidden="true">#</a></h1><blockquote><p>\u8FD4\u56DElocalStorage\u5B9E\u4F8B\u5316\u5BF9\u8C61</p></blockquote><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">local</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">missyt-utils</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><h1 id="session" tabindex="-1">session <a class="header-anchor" href="#session" aria-hidden="true">#</a></h1><blockquote><p>\u8FD4\u56DEsessionStorage\u5B9E\u4F8B\u5316\u5BF9\u8C61</p></blockquote><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">session</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">missyt-utils</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><h1 id="storage" tabindex="-1">Storage <a class="header-anchor" href="#storage" aria-hidden="true">#</a></h1><blockquote><p>\u8FD4\u56DEStorage class\u7C7B\uFF0C\u53EF\u8BBE\u7F6E\u524D\u7F00\u7B49</p></blockquote><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki"><code><span class="line"><span style="color:#676E95;">/**</span></span>
<span class="line"><span style="color:#676E95;"> * </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">class</span><span style="color:#676E95;"> Storage</span></span>
<span class="line"><span style="color:#676E95;"> * </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">description</span><span style="color:#676E95;"> Storage\u7C7B</span></span>
<span class="line"><span style="color:#676E95;"> * </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">param</span><span style="color:#676E95;"> </span><span style="color:#89DDFF;">{</span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">}</span><span style="color:#676E95;"> </span><span style="color:#A6ACCD;">type</span><span style="color:#676E95;"> \u7C7B\u578B\uFF0Clocal | session</span></span>
<span class="line"><span style="color:#676E95;"> * </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">param</span><span style="color:#676E95;"> </span><span style="color:#89DDFF;">{</span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">}</span><span style="color:#676E95;"> </span><span style="color:#A6ACCD;">prefix</span><span style="color:#676E95;"> \u524D\u7F00\uFF0C\u53EF\u9009</span></span>
<span class="line"><span style="color:#676E95;"> * </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">returns</span><span style="color:#676E95;"> </span><span style="color:#89DDFF;">{</span><span style="color:#FFCB6B;">void</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#676E95;"> * </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">example</span></span>
<span class="line"><span style="color:#676E95;"> * let s = new Storage(&#39;local | session&#39;,&#39;prefix-&#39;); //\u5B9E\u4F8B\u5316</span></span>
<span class="line"><span style="color:#676E95;"> * s.set(&#39;key&#39;,&#39;zhangsan&#39;); //\u8BBE\u7F6E</span></span>
<span class="line"><span style="color:#676E95;"> * s.set(&#39;key2&#39;,&#39;lisi&#39;,2); expries=2 days //\u8BBE\u7F6E\u8FC7\u671F\u65F6\u95F4</span></span>
<span class="line"><span style="color:#676E95;"> * s.get(&#39;key&#39;); //\u83B7\u53D6storage\u503C</span></span>
<span class="line"><span style="color:#676E95;"> * s.remove(&#39;key&#39;); //\u5220\u9664storage\u503C</span></span>
<span class="line"><span style="color:#676E95;"> * s.clear() //\u6E05\u7A7Astorage</span></span>
<span class="line"><span style="color:#676E95;"> * s.watch(&#39;key&#39;,function(newVal,oldVal){}); //\u76D1\u542Cstorage\u503C\u53D8\u5316</span></span>
<span class="line"><span style="color:#676E95;"> */</span></span>
<span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Storage</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">missyt-utils</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;">//\u9700\u81EA\u5DF1\u624B\u52A8\u5B9E\u4F8B\u5316\uFF0C\u8BBE\u7F6E\u6BCF\u4E2Akey\u7684\u524D\u7F00\u4E3A\uFF1Acustom-prefix-</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> local </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Storage</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">local</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">custom-prefix-</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> session </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Storage</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">session</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">custom-prefix-</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><h2 id="set" tabindex="-1">set <a class="header-anchor" href="#set" aria-hidden="true">#</a></h2><blockquote><p>\u8BBE\u7F6ElocalStorage\u6216sessionStorage\u503C</p></blockquote><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki"><code><span class="line"><span style="color:#676E95;">/**</span></span>
<span class="line"><span style="color:#676E95;">  * </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">function</span><span style="color:#676E95;"> </span><span style="color:#FFCB6B;">set</span></span>
<span class="line"><span style="color:#676E95;">  * </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">description</span><span style="color:#676E95;"> \u8BBE\u7F6Estorage\u503C</span></span>
<span class="line"><span style="color:#676E95;">  * </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">param</span><span style="color:#676E95;"> </span><span style="color:#89DDFF;">{</span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">}</span><span style="color:#676E95;"> </span><span style="color:#A6ACCD;">key</span><span style="color:#676E95;"> \u952E</span></span>
<span class="line"><span style="color:#676E95;">  * </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">param</span><span style="color:#676E95;"> </span><span style="color:#89DDFF;">{</span><span style="color:#FFCB6B;">any</span><span style="color:#89DDFF;">}</span><span style="color:#676E95;"> </span><span style="color:#A6ACCD;">value</span><span style="color:#676E95;"> \u503C</span></span>
<span class="line"><span style="color:#676E95;">  * </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">param</span><span style="color:#676E95;"> </span><span style="color:#89DDFF;">{</span><span style="color:#FFCB6B;">number</span><span style="color:#89DDFF;">}</span><span style="color:#676E95;"> </span><span style="color:#A6ACCD;">expires</span><span style="color:#676E95;"> \u8FC7\u671F\u65F6\u95F4\uFF0C\u53EF\u9009\uFF0C\u5355\u4F4D\uFF1A\u5929</span></span>
<span class="line"><span style="color:#676E95;">  * </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">returns</span><span style="color:#676E95;"> </span><span style="color:#89DDFF;">{</span><span style="color:#FFCB6B;">void</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#676E95;">  * </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">example</span></span>
<span class="line"><span style="color:#676E95;">  * let s = new Storage(&#39;local | session&#39;,&#39;prefix-&#39;); //\u5B9E\u4F8B\u5316</span></span>
<span class="line"><span style="color:#676E95;">  * s.set(&#39;key&#39;,&#39;zhangsan&#39;); //\u8BBE\u7F6E</span></span>
<span class="line"><span style="color:#676E95;">  * s.set(&#39;key2&#39;,&#39;lisi&#39;,2); expries=2 days //\u8BBE\u7F6E\u8FC7\u671F\u65F6\u95F4</span></span>
<span class="line"><span style="color:#676E95;">  */</span></span>
<span class="line"></span></code></pre></div><h2 id="get" tabindex="-1">get <a class="header-anchor" href="#get" aria-hidden="true">#</a></h2><blockquote><p>\u83B7\u53D6storage\u7684\u503C</p></blockquote><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki"><code><span class="line"><span style="color:#676E95;">/**</span></span>
<span class="line"><span style="color:#676E95;"> * </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">function</span><span style="color:#676E95;"> </span><span style="color:#FFCB6B;">get</span></span>
<span class="line"><span style="color:#676E95;"> * </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">description</span><span style="color:#676E95;"> \u83B7\u53D6storage\u503C</span></span>
<span class="line"><span style="color:#676E95;"> * </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">param</span><span style="color:#676E95;"> </span><span style="color:#89DDFF;">{</span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">}</span><span style="color:#676E95;"> </span><span style="color:#A6ACCD;">key</span><span style="color:#676E95;"> \u952E</span></span>
<span class="line"><span style="color:#676E95;"> * </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">returns</span><span style="color:#676E95;"> </span><span style="color:#89DDFF;">{</span><span style="color:#FFCB6B;">any</span><span style="color:#89DDFF;">}</span><span style="color:#676E95;"> \u503C</span></span>
<span class="line"><span style="color:#676E95;"> * </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">example</span></span>
<span class="line"><span style="color:#676E95;"> * let s = new Storage(&#39;local | session&#39;,&#39;prefix-&#39;); //\u5B9E\u4F8B\u5316</span></span>
<span class="line"><span style="color:#676E95;"> * s.get(&#39;key&#39;); //\u83B7\u53D6storage\u503C</span></span>
<span class="line"><span style="color:#676E95;"> */</span></span>
<span class="line"></span></code></pre></div><h2 id="remove" tabindex="-1">remove <a class="header-anchor" href="#remove" aria-hidden="true">#</a></h2><blockquote><p>\u5220\u9664\u6307\u5B9Akey\u7684storage</p></blockquote><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki"><code><span class="line"><span style="color:#676E95;">/**</span></span>
<span class="line"><span style="color:#676E95;">  * </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">function</span><span style="color:#676E95;"> </span><span style="color:#FFCB6B;">remove</span></span>
<span class="line"><span style="color:#676E95;">  * </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">description</span><span style="color:#676E95;"> \u5220\u9664storage\u503C</span></span>
<span class="line"><span style="color:#676E95;">  * </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">param</span><span style="color:#676E95;"> </span><span style="color:#89DDFF;">{</span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">}</span><span style="color:#676E95;"> </span><span style="color:#A6ACCD;">key</span><span style="color:#676E95;"> \u952E</span></span>
<span class="line"><span style="color:#676E95;">  * </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">returns</span><span style="color:#676E95;"> </span><span style="color:#89DDFF;">{</span><span style="color:#FFCB6B;">void</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#676E95;">  * </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">example</span></span>
<span class="line"><span style="color:#676E95;">  * let s = new Storage(&#39;local | session&#39;,&#39;prefix-&#39;); //\u5B9E\u4F8B\u5316</span></span>
<span class="line"><span style="color:#676E95;">  * s.remove(&#39;key&#39;); //\u5220\u9664storage\u503C</span></span>
<span class="line"><span style="color:#676E95;">  */</span></span>
<span class="line"></span></code></pre></div><h2 id="clear" tabindex="-1">clear <a class="header-anchor" href="#clear" aria-hidden="true">#</a></h2><blockquote><p>\u6E05\u9664\u6240\u6709\u7684storage\u5B58\u50A8</p></blockquote><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki"><code><span class="line"><span style="color:#676E95;">/**</span></span>
<span class="line"><span style="color:#676E95;">  * </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">function</span><span style="color:#676E95;"> </span><span style="color:#FFCB6B;">clear</span></span>
<span class="line"><span style="color:#676E95;">  * </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">description</span><span style="color:#676E95;"> \u6E05\u7A7Astorage</span></span>
<span class="line"><span style="color:#676E95;">  * </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">returns</span><span style="color:#676E95;"> </span><span style="color:#89DDFF;">{</span><span style="color:#FFCB6B;">void</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#676E95;">  * </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">example</span></span>
<span class="line"><span style="color:#676E95;">  * let s = new Storage(&#39;local | session&#39;,&#39;prefix-&#39;); //\u5B9E\u4F8B\u5316</span></span>
<span class="line"><span style="color:#676E95;">  * s.clear() //\u6E05\u7A7Astorage</span></span>
<span class="line"><span style="color:#676E95;">  */</span></span>
<span class="line"></span></code></pre></div><h2 id="watch" tabindex="-1">watch <a class="header-anchor" href="#watch" aria-hidden="true">#</a></h2><blockquote><p>\u76D1\u542Cstorage\u67D0\u4E2A\u503C\uFF0C\u5E76\u6267\u884C\u56DE\u8C03\u51FD\u6570\u3002\u7C7B\u4F3C\u4E8Evue\u4E2D\u7684watch</p></blockquote><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki"><code><span class="line"><span style="color:#676E95;">/**</span></span>
<span class="line"><span style="color:#676E95;">  * </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">function</span><span style="color:#676E95;"> </span><span style="color:#FFCB6B;">watch</span></span>
<span class="line"><span style="color:#676E95;">  * </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">description</span><span style="color:#676E95;"> \u76D1\u542Cstorage\u503C\u53D8\u5316</span></span>
<span class="line"><span style="color:#676E95;">  * </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">param</span><span style="color:#676E95;"> </span><span style="color:#89DDFF;">{</span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">}</span><span style="color:#676E95;"> </span><span style="color:#A6ACCD;">key</span><span style="color:#676E95;"> \u952E</span></span>
<span class="line"><span style="color:#676E95;">  * </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">param</span><span style="color:#676E95;"> </span><span style="color:#89DDFF;">{</span><span style="color:#FFCB6B;">function</span><span style="color:#89DDFF;">}</span><span style="color:#676E95;"> </span><span style="color:#A6ACCD;">callback</span><span style="color:#676E95;"> \u56DE\u8C03\u51FD\u6570</span></span>
<span class="line"><span style="color:#676E95;">  * </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">returns</span><span style="color:#676E95;"> </span><span style="color:#89DDFF;">{</span><span style="color:#FFCB6B;">any</span><span style="color:#89DDFF;">}</span><span style="color:#676E95;"> timer \u76D1\u542C\u7684\u5B9A\u65F6\u5668</span></span>
<span class="line"><span style="color:#676E95;">  * </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">example</span></span>
<span class="line"><span style="color:#676E95;">  * let s = new Storage(&#39;local | session&#39;,&#39;prefix-&#39;); //\u5B9E\u4F8B\u5316</span></span>
<span class="line"><span style="color:#676E95;">  * s.watch(&#39;key&#39;,function(newVal,oldVal){}); //\u76D1\u542Cstorage\u503C\u53D8\u5316</span></span>
<span class="line"><span style="color:#676E95;">  */</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;">//\u76D1\u542Ctoken\u7684\u503C\uFF0C\u53D1\u751F\u53D8\u5316\u65F6\u6253\u5370\u65E5\u5FD7</span></span>
<span class="line"><span style="color:#A6ACCD;">  local</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">watch</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">token</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,(</span><span style="color:#A6ACCD;">newValue</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">oldValue</span><span style="color:#89DDFF;">)</span><span style="color:#C792EA;">=&gt;</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">\`</span><span style="color:#C3E88D;">token\u53D8\u5316\u4E86\uFF0C\u65B0\u503C\u4E3A:</span><span style="color:#89DDFF;">\${</span><span style="color:#A6ACCD;">newValue</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;">\uFF0C\u65E7\u503C\u4E3A:</span><span style="color:#89DDFF;">\${</span><span style="color:#A6ACCD;">oldValue</span><span style="color:#89DDFF;">}\`</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div>`,25),e=[o];function c(t,r,y,F,D,i){return n(),a("div",null,e)}const A=s(p,[["render",c]]);export{E as __pageData,A as default};
